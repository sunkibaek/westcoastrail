// Generated by CoffeeScript 1.7.0
(function() {
  $(document).ready(function() {
    var currentSlideNumber, showSlide;
    if (window.location.href.indexOf('usa_tours') < 0) {
      $('.our-tours, .sub').mouseenter(function() {
        $('.sub').slideDown();
        return $(this).addClass('active');
      });
      $('header nav').mouseleave(function() {
        return setTimeout(function() {
          $('.sub').slideUp();
          return $('.our-tours').removeClass('active');
        }, 400);
      });
    } else {
      $('.sub').slideDown();
    }
    $('.controls .btn').click(function(e) {
      e.preventDefault();
      $('.controls .btn').removeClass('active');
      $(this).addClass('active');
      return $('#trip-type').attr('value', $(this).data('value'));
    });
    $('#depature, #return').datepicker();
    $('#depature, #return').datepicker('option', 'dateFormat', 'yy-mm-dd');
    if (window.location.href.indexOf('index') >= 0) {
      currentSlideNumber = 1;
      showSlide = function(slideNumber) {
        $('.carousel .slide').hide('100');
        $('.carousel .slide:nth-child(' + slideNumber + ')').show('800');
        $('.selector a').removeClass('active');
        return $('.selector li:nth-child(' + slideNumber + ') a').addClass('active');
      };
      $('.selector a').click(function(e) {
        e.preventDefault();
        currentSlideNumber = $(this).data('slide');
        return showSlide(currentSlideNumber);
      });
      setInterval(function() {
        if (!$('.carousel').is(':hover')) {
          showSlide((currentSlideNumber % 3) + 1);
          return currentSlideNumber += 1;
        }
      }, 3600);
    }
    return $('.tour-buttons a').click(function(e) {
      e.preventDefault();
      return $('html').animate({
        scrollTop: $($(this).attr('href')).offset().top
      }, 800);
    });
  });

}).call(this);
